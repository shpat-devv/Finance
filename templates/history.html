{% extends "layout.html" %}

{% block title %}
    History
{% endblock %}

{% block main %}
    <form action="/history" method="post" id="autoForm">
        <input type="hidden" name="symbol" value="{{ some_symbol }}">
    </form>

    {% if reload %}
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                document.getElementById('autoForm').submit();
            });
        </script>
    {% endif %}

    {% if transactions %}
        <div class="container mt-4">
            <h2>Transactions</h2>
            {% for transaction in transactions %}
            <ul>
                <li>Type: {{ transaction[0] }}</li>
                <li>Symbol: {{ transaction[1] }}</li>
                <li>Price: {{ transaction[2] }}</li>
                <li>Shares: {{ transaction[3] }}</li>
                <li>Time: {{ transaction[4] }}</li>
            </ul>
            {% endfor %}
        </div>
    {% else %}
        <div class="container mt-4">
            <h2>You haven't purchased anything yet</h2>
        </div>
    {% endif %}
{% endblock %}
